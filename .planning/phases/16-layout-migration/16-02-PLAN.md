---
phase: 16-layout-migration
plan: 02
type: execute
wave: 2
depends_on:
  - 16-01
files_modified:
  - apps/web/src/components/game/GameShell.tsx
autonomous: true

must_haves:
  truths:
    - "Mobile game tab shows full-height zone content (not constrained to h-64)"
    - "Mobile social tab shows full-height social sidebar"
    - "Tablet breakpoint (768-1024px) uses mobile layout correctly"
    - "All four mobile tabs render without errors"
  artifacts:
    - path: "apps/web/src/components/game/GameShell.tsx"
      provides: "Mobile layout unchanged from desktop migration"
      min_lines: 600
  key_links:
    - from: "GameShell.tsx mobile layout"
      to: "WorldView"
      via: "game-world without h-64 constraint"
      pattern: "mobileTab === 'game'"
    - from: "GameShell.tsx mobile layout"
      to: "SocialSidebar"
      via: "social-section with flex: 1"
      pattern: "mobileTab === 'social'"
---

<objective>
Verify mobile and tablet layouts remain functional after desktop migration

Purpose: Confirm the desktop layout changes in 16-01 did not break mobile/tablet views. Mobile should NOT have the h-64 constraint since zone content is primary focus with no competing sidebars.

Output: Verified responsive behavior across mobile (375px), tablet (768px), and transition point (1024px)
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/16-layout-migration/16-RESEARCH.md
@.planning/phases/16-layout-migration/16-01-SUMMARY.md

# Reference
@apps/web/src/components/game/GameShell.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Test mobile layout at 375px</name>
  <files>apps/web/src/components/game/GameShell.tsx</files>
  <action>
Test all four mobile tabs at 375px (iPhone SE/small mobile) width.

Test procedure:
1. Open http://localhost:3000 in browser
2. Open dev tools (F12) and toggle device toolbar
3. Set viewport to 375px width
4. Test each mobile tab:

**Map tab:**
- MapSidebar renders with mobile-active class
- Interactive map visible
- Travel buttons work
- News section visible

**Game tab:**
- WorldView (or EncounterDisplay if in encounter) renders full-height
- NO h-64 constraint on zone content
- TownMenu appears if in town
- Content fills available vertical space

**Party tab:**
- PartyColumn renders with mobile-active class
- Party panel shows Pokemon
- Boosts section visible
- Activity log scrollable

**Social tab:**
- SocialSidebar renders
- Chat, Friends, Trades, Guild tabs work
- Content scrollable within tab
- Badge counts visible

Verify NO layout breaks:
- No horizontal scrolling
- Content not cut off
- Tab bar visible at bottom
- Tabs switch smoothly
  </action>
  <verify>
All four mobile tabs render correctly at 375px:
- Map: Shows interactive map and travel options
- Game: Full-height zone content, no h-64 constraint
- Party: Party panel and activity log visible
- Social: Tabbed social interface works
  </verify>
  <done>
Mobile layout at 375px verified working for all tabs without h-64 constraint on game content
  </done>
</task>

<task type="auto">
  <name>Task 2: Test tablet and breakpoint transition</name>
  <files>apps/web/src/components/game/GameShell.tsx</files>
  <action>
Test the responsive transition between mobile and desktop layouts.

Test procedure:
1. Open http://localhost:3000 in browser
2. Open dev tools and use responsive mode

**Test at 768px (tablet):**
- Should use MOBILE layout (single column + tab bar)
- All four tabs accessible via bottom tab bar
- Game tab shows full-height zone content
- No sidebars visible (hidden until tab selected)

**Test at 1024px (breakpoint boundary):**
- Should still use MOBILE layout (<=1024px triggers mobile)
- Same behavior as 768px test

**Test at 1025px:**
- Should switch to DESKTOP layout
- Three columns visible (map | center | party)
- No mobile tab bar
- Center column has h-64 constrained zone + expanded social

**Test resize transition:**
1. Start at 1200px (desktop)
2. Slowly resize window narrower
3. At 1025px -> 1024px transition, layout should switch cleanly
4. No flicker, no broken intermediate state
5. Resize back wider, desktop layout returns cleanly

Note any issues with the transition:
- Content jumping
- Incorrect layout at breakpoint
- Tab state lost on resize
  </action>
  <verify>
1. 768px uses mobile layout with tab bar
2. 1024px uses mobile layout with tab bar
3. 1025px uses desktop 3-column layout
4. Resize transition between layouts is clean
  </verify>
  <done>
Tablet breakpoint (768-1024px) uses mobile layout, transition to desktop at 1025px works cleanly
  </done>
</task>

<task type="auto">
  <name>Task 3: Final layout verification matrix</name>
  <files>apps/web/src/components/game/GameShell.tsx</files>
  <action>
Create a verification matrix confirming all requirements are met.

Checklist to verify:

**LAYOUT-01: Two-sidebar layout**
- [ ] Desktop shows left sidebar (map/navigation)
- [ ] Desktop shows right sidebar (party/activity)
- [ ] Center column between sidebars

**LAYOUT-02: Balanced center proportions**
- [ ] Desktop zone content constrained (h-64 = 256px)
- [ ] Desktop social area expanded (flex-1)
- [ ] 12px gap between zone and social (gap-3)

**LAYOUT-03: Zone content fixed height**
- [ ] Desktop zone wrapper has h-64 shrink-0
- [ ] Zone does NOT grow beyond 256px regardless of content
- [ ] Social visible without scrolling on desktop

**LAYOUT-04: Responsive behavior**
- [ ] Mobile (375px) - single column, tab bar, full-height game
- [ ] Tablet (768px) - mobile layout with tab bar
- [ ] Desktop (1280px+) - three columns, balanced center

Run through each checkbox manually, document any issues found.
  </action>
  <verify>
All four LAYOUT requirements verified:
- LAYOUT-01: Two-sidebar desktop layout confirmed
- LAYOUT-02: Balanced proportions (zone constrained, social expanded)
- LAYOUT-03: h-64 fixed height on zone content
- LAYOUT-04: Responsive at 375px, 768px, 1280px+
  </verify>
  <done>
All layout requirements (LAYOUT-01 through LAYOUT-04) verified passing
  </done>
</task>

</tasks>

<verification>
- Mobile (375px): Full-height game content, all tabs work
- Tablet (768px): Mobile layout, tab bar visible
- Desktop (1280px): Three columns, balanced center
- Breakpoint transition (1024px <-> 1025px): Clean switch
</verification>

<success_criteria>
- Mobile game tab uses full-height zone content (no h-64)
- Mobile social tab renders properly
- Tablet uses mobile layout
- Desktop uses 3-column layout with h-64 zone constraint
- LAYOUT-01, LAYOUT-02, LAYOUT-03, LAYOUT-04 all verified
</success_criteria>

<output>
After completion, create `.planning/phases/16-layout-migration/16-02-SUMMARY.md`
</output>
