---
phase: 10-layout-responsiveness
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/styles/tokens/typography.css
  - apps/web/src/app/globals.css
autonomous: true

must_haves:
  truths:
    - "Body text in all game screens is at least 16px"
    - "Typography scales fluidly between 16px and 18px based on viewport"
    - "Pixel font remains small (intentionally retro style)"
  artifacts:
    - path: "apps/web/src/styles/tokens/typography.css"
      provides: "Fluid typography tokens with clamp()"
      contains: "clamp(1rem"
    - path: "apps/web/src/app/globals.css"
      provides: "Responsive font size overrides"
      contains: "--font-size-body"
  key_links:
    - from: "typography.css"
      to: "globals.css"
      via: "CSS variable import"
      pattern: "@import.*typography"
---

<objective>
Establish a responsive typography system that ensures 16px minimum body text while scaling fluidly on larger screens.

Purpose: LAYOUT-01 requires all body text to be at least 16px for readability. The current typography tokens use fixed sizes with the base at 14px, violating this requirement.

Output: Updated typography tokens using CSS clamp() for fluid scaling, with 16px minimum body text and 18px maximum.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-layout-responsiveness/10-RESEARCH.md

@apps/web/src/styles/tokens/typography.css
@apps/web/src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update typography tokens with fluid scaling</name>
  <files>apps/web/src/styles/tokens/typography.css</files>
  <action>
Update the typography tokens to use CSS clamp() for fluid scaling:

1. Add a new body text size token:
   `--font-size-body: clamp(1rem, calc(0.9375rem + 0.3125vw), 1.125rem);`
   This scales from 16px at 375px viewport to 18px at 1280px+

2. Update existing tokens:
   - `--font-size-base`: Change from 0.875rem (14px) to clamp() that gives 16px min
   - `--font-size-sm`: Change from 0.75rem (12px) to clamp(0.875rem, 0.8125rem + 0.3125vw, 1rem) for 14px-16px range
   - `--font-size-xs`: Keep at 0.625rem BUT add a comment that this should only be used for captions/labels, not body text

3. Keep pixel font sizes unchanged (intentionally small for retro aesthetic):
   - `--font-size-pixel-xs`: 0.5rem (8px)
   - `--font-size-pixel-sm`: 0.625rem (10px)
   - `--font-size-pixel-base`: 0.75rem (12px)

4. Add comment sections clarifying:
   - Which tokens meet accessibility minimum (16px+)
   - Which tokens are for decorative/secondary use only
   - Pixel fonts are exempt (intentional retro style)

Do NOT change font-family, font-weight, line-height, or letter-spacing tokens.
  </action>
  <verify>
Run `cat apps/web/src/styles/tokens/typography.css` and verify:
- `--font-size-body` exists with clamp()
- `--font-size-base` uses clamp() with 1rem (16px) minimum
- `--font-size-sm` uses clamp() with 0.875rem (14px) minimum
- Pixel font sizes remain unchanged
  </verify>
  <done>Typography tokens define fluid scaling with 16px minimum for body text</done>
</task>

<task type="auto">
  <name>Task 2: Apply typography tokens globally</name>
  <files>apps/web/src/app/globals.css</files>
  <action>
Update globals.css to use the new typography tokens:

1. In the `body` rule, add:
   `font-size: var(--font-size-body);`

2. Add utility classes for consistent sizing:
   ```css
   /* Responsive text utilities */
   .text-body { font-size: var(--font-size-body); }
   .text-secondary { font-size: var(--font-size-sm); }
   .text-caption { font-size: var(--font-size-xs); }
   ```

3. Update any hardcoded small font sizes in existing classes:
   - `.location-label`: Change font-size from 9px to var(--font-size-xs)
   - `.section-label`: Change font-size from 9px to var(--font-size-xs)
   - `.news-desc`: Change font-size from 10px to var(--font-size-xs)
   - `.news-title`: Change font-size from 11px to var(--font-size-sm)
   - `.travel-btn`: Change font-size from 12px to var(--font-size-sm)
   - `.nearby-name`: Change font-size from 11px to var(--font-size-sm)

4. Keep pixel font classes unchanged (`.font-pixel`, `.classic-*` classes use pixel font intentionally)

5. Do NOT update component-specific font sizes in the Layout-B section that are intentionally small for compact UI (badges, timestamps, counts). These will be addressed in Plan 10-04 viewport testing.
  </action>
  <verify>
Run `grep -n "font-size:" apps/web/src/app/globals.css | head -30` to verify:
- `body` rule includes `font-size: var(--font-size-body)`
- Utility classes `.text-body`, `.text-secondary`, `.text-caption` exist
- At least 3 hardcoded pixel sizes have been replaced with variables
  </verify>
  <done>Global styles use typography tokens; body text defaults to fluid 16px-18px</done>
</task>

<task type="auto">
  <name>Task 3: Verify build succeeds</name>
  <files>none</files>
  <action>
Run the Next.js build to verify no CSS syntax errors were introduced:

```bash
cd apps/web && npm run build
```

If build fails due to CSS issues, fix them and re-run.
  </action>
  <verify>Build completes without CSS-related errors</verify>
  <done>Build succeeds, confirming typography changes are valid CSS</done>
</task>

</tasks>

<verification>
1. Typography tokens file contains clamp() functions
2. Body text default is 16px minimum (check rendered output)
3. Build succeeds without errors
4. Pixel fonts remain unchanged for retro elements
</verification>

<success_criteria>
- LAYOUT-01 requirement met: Body text uses 16px minimum font size
- Typography scales fluidly from 16px (375px viewport) to 18px (1280px+ viewport)
- Build passes
- No visual regressions in pixel font elements
</success_criteria>

<output>
After completion, create `.planning/phases/10-layout-responsiveness/10-01-SUMMARY.md`
</output>
