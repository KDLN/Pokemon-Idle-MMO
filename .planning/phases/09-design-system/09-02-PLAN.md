---
phase: 09-design-system
plan: 02
type: execute
wave: 2
depends_on: ["09-01"]
files_modified:
  - apps/web/src/styles/tokens/colors.css
  - apps/web/src/styles/tokens/spacing.css
  - apps/web/src/styles/tokens/typography.css
  - apps/web/src/app/globals.css
  - docs/design-system/TOKENS.md
autonomous: true

must_haves:
  truths:
    - "All 69+ existing CSS variables are documented with semantic categories"
    - "Color tokens are organized by purpose (brand, surface, text, border, type)"
    - "Spacing scale is documented with size names and pixel values"
    - "Typography scale includes sizes, weights, and line heights"
  artifacts:
    - path: "apps/web/src/styles/tokens/colors.css"
      provides: "Color token definitions"
      contains: "--color-"
    - path: "apps/web/src/styles/tokens/spacing.css"
      provides: "Spacing token definitions"
      contains: "--spacing-"
    - path: "apps/web/src/styles/tokens/typography.css"
      provides: "Typography token definitions"
      contains: "--font-size-"
    - path: "docs/design-system/TOKENS.md"
      provides: "Token documentation"
      min_lines: 100
  key_links:
    - from: "apps/web/src/app/globals.css"
      to: "apps/web/src/styles/tokens/colors.css"
      via: "@import"
      pattern: "@import.*tokens/colors"
---

<objective>
Audit existing CSS variables, organize them into semantic categories, and create separate token files with comprehensive documentation.

Purpose: Transform the monolithic CSS variable block into organized, documented design tokens that can be referenced consistently across the codebase.
Output: Three token CSS files (colors, spacing, typography), updated globals.css with imports, TOKENS.md documentation.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/09-design-system/09-RESEARCH.md
@.planning/phases/09-design-system/09-CONTEXT.md
@apps/web/src/app/globals.css
@apps/web/src/lib/ui/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create color token file with semantic organization</name>
  <files>apps/web/src/styles/tokens/colors.css</files>
  <action>
Create directory: apps/web/src/styles/tokens/

Create apps/web/src/styles/tokens/colors.css organizing existing variables:

```css
/* ============================================
 * COLOR TOKENS
 * Semantic naming: describes purpose, not value
 * ============================================ */

:root {
  /* ========== BRAND COLORS ========== */
  /* Primary brand - Pokemon Blue */
  --color-brand-primary: #3B4CCA;
  --color-brand-primary-dark: #2A3A99;
  --color-brand-primary-light: #5B6EEA;

  /* Secondary brand - Pokemon Red */
  --color-brand-secondary: #EE1515;
  --color-brand-secondary-dark: #CC0000;
  --color-brand-secondary-light: #FF4444;

  /* Accent - Pokemon Yellow/Gold */
  --color-brand-accent: #FFDE00;
  --color-brand-accent-dark: #E6C800;
  --color-brand-gold: #B3A125;

  /* ========== SURFACE COLORS ========== */
  /* Backgrounds for containers and UI elements */
  --color-surface-base: #0f0f1a;
  --color-surface-elevated: #1a1a2e;
  --color-surface-hover: #252542;

  /* ========== TEXT COLORS ========== */
  --color-text-primary: #ffffff;
  --color-text-secondary: #a0a0c0;
  --color-text-muted: #606080;

  /* ========== BORDER COLORS ========== */
  --color-border-subtle: #2a2a4a;
  --color-border-bright: #3a3a6a;

  /* ========== SEMANTIC COLORS ========== */
  --color-success: #22c55e;
  --color-warning: #eab308;
  --color-error: #ef4444;

  /* ========== POKEMON TYPE COLORS ========== */
  /* Each type has base and dark variant */
  --color-type-normal: #A8A878;
  --color-type-normal-dark: #6D6D4E;
  --color-type-fire: #F08030;
  --color-type-fire-dark: #9C531F;
  --color-type-water: #6890F0;
  --color-type-water-dark: #445E9C;
  --color-type-electric: #F8D030;
  --color-type-electric-dark: #A1871F;
  --color-type-grass: #78C850;
  --color-type-grass-dark: #4E8234;
  --color-type-ice: #98D8D8;
  --color-type-ice-dark: #638D8D;
  --color-type-fighting: #C03028;
  --color-type-fighting-dark: #7D1F1A;
  --color-type-poison: #A040A0;
  --color-type-poison-dark: #682A68;
  --color-type-ground: #E0C068;
  --color-type-ground-dark: #927D44;
  --color-type-flying: #A890F0;
  --color-type-flying-dark: #6D5E9C;
  --color-type-psychic: #F85888;
  --color-type-psychic-dark: #A13959;
  --color-type-bug: #A8B820;
  --color-type-bug-dark: #6D7815;
  --color-type-rock: #B8A038;
  --color-type-rock-dark: #786824;
  --color-type-ghost: #705898;
  --color-type-ghost-dark: #493963;
  --color-type-dragon: #7038F8;
  --color-type-dragon-dark: #4924A1;
  --color-type-dark: #705848;
  --color-type-dark-dark: #49392F;
  --color-type-steel: #B8B8D0;
  --color-type-steel-dark: #787887;
  --color-type-fairy: #EE99AC;
  --color-type-fairy-dark: #9B6470;

  /* ========== LAYOUT-B COLORS ========== */
  /* Extended palette for 3-column layout */
  --color-lb-base: #0f1015;
  --color-lb-elevated: #1d1e26;
  --color-lb-hover: #252630;
  --color-lb-border: #3a3b48;
  --color-lb-text-dim: #5a5b68;
  --color-lb-accent: #6366f1;
  --color-lb-accent-glow: rgba(99, 102, 241, 0.3);
}

/* ========== GRADIENTS ========== */
:root {
  --gradient-pokeball: linear-gradient(180deg, var(--color-brand-secondary) 0%, var(--color-brand-secondary) 45%, #1a1a2e 45%, #1a1a2e 55%, #f0f0f0 55%, #f0f0f0 100%);
  --gradient-shine: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%);
}
```

Note: Keep backward compatibility by also defining legacy variable names (poke-red, bg-dark, etc.) as aliases in globals.css for now.
  </action>
  <verify>CSS file exists and is valid CSS syntax (no parse errors)</verify>
  <done>colors.css contains all color tokens organized by semantic category</done>
</task>

<task type="auto">
  <name>Task 2: Create spacing and typography token files</name>
  <files>apps/web/src/styles/tokens/spacing.css, apps/web/src/styles/tokens/typography.css</files>
  <action>
Create apps/web/src/styles/tokens/spacing.css:

```css
/* ============================================
 * SPACING TOKENS
 * Based on 4px base unit (0.25rem)
 * ============================================ */

:root {
  /* ========== SPACING SCALE ========== */
  --spacing-0: 0;
  --spacing-1: 0.25rem;   /* 4px */
  --spacing-2: 0.5rem;    /* 8px */
  --spacing-3: 0.75rem;   /* 12px */
  --spacing-4: 1rem;      /* 16px */
  --spacing-5: 1.25rem;   /* 20px */
  --spacing-6: 1.5rem;    /* 24px */
  --spacing-8: 2rem;      /* 32px */
  --spacing-10: 2.5rem;   /* 40px */
  --spacing-12: 3rem;     /* 48px */
  --spacing-16: 4rem;     /* 64px */

  /* ========== SEMANTIC SPACING ========== */
  /* Component internal spacing */
  --spacing-component-xs: var(--spacing-1);
  --spacing-component-sm: var(--spacing-2);
  --spacing-component-md: var(--spacing-3);
  --spacing-component-lg: var(--spacing-4);

  /* Layout spacing (between sections) */
  --spacing-layout-sm: var(--spacing-4);
  --spacing-layout-md: var(--spacing-6);
  --spacing-layout-lg: var(--spacing-8);

  /* ========== BORDER RADIUS ========== */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;
}
```

Create apps/web/src/styles/tokens/typography.css:

```css
/* ============================================
 * TYPOGRAPHY TOKENS
 * Font sizes, weights, and line heights
 * ============================================ */

:root {
  /* ========== FONT FAMILIES ========== */
  /* Defined via next/font in layout, referenced here */
  --font-family-sans: var(--font-outfit), 'Outfit', sans-serif;
  --font-family-pixel: var(--font-pixel), 'Press Start 2P', monospace;

  /* ========== FONT SIZES ========== */
  --font-size-xs: 0.625rem;   /* 10px */
  --font-size-sm: 0.75rem;    /* 12px */
  --font-size-base: 0.875rem; /* 14px */
  --font-size-md: 1rem;       /* 16px */
  --font-size-lg: 1.125rem;   /* 18px */
  --font-size-xl: 1.25rem;    /* 20px */
  --font-size-2xl: 1.5rem;    /* 24px */
  --font-size-3xl: 1.875rem;  /* 30px */

  /* Pixel font sizes (smaller for legibility) */
  --font-size-pixel-xs: 0.5rem;    /* 8px */
  --font-size-pixel-sm: 0.625rem;  /* 10px */
  --font-size-pixel-base: 0.75rem; /* 12px */

  /* ========== FONT WEIGHTS ========== */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* ========== LINE HEIGHTS ========== */
  --line-height-tight: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;

  /* ========== LETTER SPACING ========== */
  --letter-spacing-tight: -0.025em;
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.025em;
  --letter-spacing-wider: 0.05em;
  --letter-spacing-widest: 0.1em;
}
```
  </action>
  <verify>Both CSS files exist and contain valid CSS syntax</verify>
  <done>spacing.css and typography.css contain organized tokens</done>
</task>

<task type="auto">
  <name>Task 3: Update globals.css and create token documentation</name>
  <files>apps/web/src/app/globals.css, docs/design-system/TOKENS.md</files>
  <action>
Update apps/web/src/app/globals.css:

At the very top, after `@import "tailwindcss";`, add:
```css
@import "../styles/tokens/colors.css";
@import "../styles/tokens/spacing.css";
@import "../styles/tokens/typography.css";
```

Keep the existing :root block with legacy variable names as aliases that reference the new tokens:
```css
:root {
  /* Legacy aliases - map old names to new tokens for backward compatibility */
  --poke-red: var(--color-brand-secondary);
  --poke-red-dark: var(--color-brand-secondary-dark);
  --poke-red-light: var(--color-brand-secondary-light);
  --poke-blue: var(--color-brand-primary);
  --poke-blue-dark: var(--color-brand-primary-dark);
  --poke-blue-light: var(--color-brand-primary-light);
  --poke-yellow: var(--color-brand-accent);
  --poke-yellow-dark: var(--color-brand-accent-dark);
  --poke-gold: var(--color-brand-gold);

  --bg-dark: var(--color-surface-base);
  --bg-card: var(--color-surface-elevated);
  --bg-card-hover: var(--color-surface-hover);
  --border-subtle: var(--color-border-subtle);
  --border-bright: var(--color-border-bright);
  --text-primary: var(--color-text-primary);
  --text-secondary: var(--color-text-secondary);
  --text-muted: var(--color-text-muted);

  /* Type colors - keep original names for getTypeColor() compatibility */
  --type-normal: var(--color-type-normal);
  --type-normal-dark: var(--color-type-normal-dark);
  /* ... repeat for all 18 types ... */

  /* Layout-B aliases */
  --lb-bg-base: var(--color-lb-base);
  --lb-bg-elevated: var(--color-lb-elevated);
  --lb-bg-hover: var(--color-lb-hover);
  --lb-border-bright: var(--color-lb-border);
  --lb-text-dim: var(--color-lb-text-dim);
  --lb-accent: var(--color-lb-accent);
  --lb-accent-glow: var(--color-lb-accent-glow);
  --lb-green: var(--color-success);
  --lb-red: var(--color-error);
  --lb-yellow: var(--color-warning);

  /* Gradients stay as-is, they reference the new color tokens */
  --gradient-pokeball: linear-gradient(180deg, var(--color-brand-secondary) 0%, var(--color-brand-secondary) 45%, #1a1a2e 45%, #1a1a2e 55%, #f0f0f0 55%, #f0f0f0 100%);
  --gradient-shine: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%);
}
```

Create docs/design-system/TOKENS.md:

```markdown
# Design Tokens

Design tokens are the atomic values that make up the visual language of Pokemon Idle MMO. They ensure consistency across all UI components.

## Token Files

- `apps/web/src/styles/tokens/colors.css` - Color palette
- `apps/web/src/styles/tokens/spacing.css` - Spacing scale and border radius
- `apps/web/src/styles/tokens/typography.css` - Font sizes, weights, line heights

## Colors

### Brand Colors

| Token | Value | Usage |
|-------|-------|-------|
| `--color-brand-primary` | #3B4CCA | Primary buttons, links, accents |
| `--color-brand-primary-dark` | #2A3A99 | Hover states, gradients |
| `--color-brand-primary-light` | #5B6EEA | Borders, highlights |
| `--color-brand-secondary` | #EE1515 | Pokeball buttons, danger actions |
| `--color-brand-secondary-dark` | #CC0000 | Hover states |
| `--color-brand-secondary-light` | #FF4444 | Borders, highlights |
| `--color-brand-accent` | #FFDE00 | Focus rings, highlights, gold badges |
| `--color-brand-gold` | #B3A125 | Premium, special items |

### Surface Colors

| Token | Value | Usage |
|-------|-------|-------|
| `--color-surface-base` | #0f0f1a | Page background |
| `--color-surface-elevated` | #1a1a2e | Cards, modals, panels |
| `--color-surface-hover` | #252542 | Hover states on elevated surfaces |

### Text Colors

| Token | Value | Usage |
|-------|-------|-------|
| `--color-text-primary` | #ffffff | Headings, important text |
| `--color-text-secondary` | #a0a0c0 | Body text, labels |
| `--color-text-muted` | #606080 | Captions, disabled text |

### Border Colors

| Token | Value | Usage |
|-------|-------|-------|
| `--color-border-subtle` | #2a2a4a | Card borders, dividers |
| `--color-border-bright` | #3a3a6a | Active/focus borders |

### Semantic Colors

| Token | Value | Usage |
|-------|-------|-------|
| `--color-success` | #22c55e | Success states, online indicators |
| `--color-warning` | #eab308 | Warning states, timers |
| `--color-error` | #ef4444 | Error states, danger badges |

### Pokemon Type Colors

18 type colors with base and dark variants. See `colors.css` for full list.

| Token Pattern | Example | Usage |
|--------------|---------|-------|
| `--color-type-{type}` | `--color-type-fire: #F08030` | Type badges background |
| `--color-type-{type}-dark` | `--color-type-fire-dark: #9C531F` | Borders, shadows |

## Spacing

Based on 4px (0.25rem) base unit.

| Token | Value | Pixels |
|-------|-------|--------|
| `--spacing-1` | 0.25rem | 4px |
| `--spacing-2` | 0.5rem | 8px |
| `--spacing-3` | 0.75rem | 12px |
| `--spacing-4` | 1rem | 16px |
| `--spacing-6` | 1.5rem | 24px |
| `--spacing-8` | 2rem | 32px |

### Semantic Spacing

| Token | Maps To | Usage |
|-------|---------|-------|
| `--spacing-component-sm` | spacing-2 | Button padding, badge padding |
| `--spacing-component-md` | spacing-3 | Card padding |
| `--spacing-layout-md` | spacing-6 | Section gaps |

## Border Radius

| Token | Value | Usage |
|-------|-------|-------|
| `--radius-sm` | 4px | Badges, small elements |
| `--radius-md` | 8px | Buttons, inputs |
| `--radius-lg` | 12px | Cards, panels |
| `--radius-xl` | 16px | Large containers |
| `--radius-full` | 9999px | Pills, avatars |

## Typography

### Font Sizes

| Token | Value | Usage |
|-------|-------|-------|
| `--font-size-xs` | 10px | Badges, captions |
| `--font-size-sm` | 12px | Secondary text |
| `--font-size-base` | 14px | Body text |
| `--font-size-md` | 16px | Large body text |
| `--font-size-lg` | 18px | Subheadings |
| `--font-size-xl` | 20px | Section headings |
| `--font-size-2xl` | 24px | Page headings |

### Font Weights

| Token | Value | Usage |
|-------|-------|-------|
| `--font-weight-normal` | 400 | Body text |
| `--font-weight-medium` | 500 | Labels, buttons |
| `--font-weight-semibold` | 600 | Subheadings |
| `--font-weight-bold` | 700 | Headings, emphasis |

## Legacy Compatibility

Old variable names (e.g., `--poke-red`, `--bg-dark`) are aliased to new tokens in `globals.css`. New code should use the `--color-*` tokens directly.

## Usage in Components

```css
/* Direct CSS usage */
.card {
  background: var(--color-surface-elevated);
  border: 1px solid var(--color-border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--spacing-component-md);
}
```

```tsx
/* Tailwind + CSS variables */
<div className="bg-[var(--color-surface-elevated)] border border-[var(--color-border-subtle)]">
```
```
  </action>
  <verify>
globals.css imports token files and has legacy aliases.
docs/design-system/TOKENS.md exists with comprehensive documentation.
cd apps/web && npm run build succeeds (CSS imports work).
  </verify>
  <done>globals.css imports token files, legacy aliases work, TOKENS.md documents all tokens</done>
</task>

</tasks>

<verification>
1. Token files exist: ls apps/web/src/styles/tokens/*.css
2. globals.css has imports: grep "@import.*tokens" apps/web/src/app/globals.css
3. Build succeeds: cd apps/web && npm run build
4. App still works: cd apps/web && npm run dev - visual check that colors are correct
5. Documentation exists: cat docs/design-system/TOKENS.md | head -50
</verification>

<success_criteria>
- apps/web/src/styles/tokens/colors.css contains all color tokens with semantic naming
- apps/web/src/styles/tokens/spacing.css contains spacing scale and radius tokens
- apps/web/src/styles/tokens/typography.css contains font size, weight, line height tokens
- globals.css imports all token files at the top
- globals.css has legacy variable aliases for backward compatibility
- docs/design-system/TOKENS.md documents all tokens with usage examples
- npm run build succeeds (no CSS parsing errors)
- Application visuals unchanged (legacy aliases work)
</success_criteria>

<output>
After completion, create `.planning/phases/09-design-system/09-02-SUMMARY.md`
</output>
