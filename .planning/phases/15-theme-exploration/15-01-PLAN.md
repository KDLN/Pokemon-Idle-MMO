---
phase: 15-theme-exploration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/styles/tokens/colors-modern.css
  - apps/web/src/app/globals.css
  - apps/web/.storybook/preview.ts
autonomous: true

must_haves:
  truths:
    - "Theme tokens switch when data-theme='modern' attribute is present"
    - "Storybook theme dropdown shows 'current' and 'modern' options"
    - "Components render differently in modern theme (visible color changes)"
  artifacts:
    - path: "apps/web/src/styles/tokens/colors-modern.css"
      provides: "Pokemon Clean Modern theme token definitions"
      contains: "[data-theme=\"modern\"]"
    - path: "apps/web/.storybook/preview.ts"
      provides: "Theme switching configuration"
      contains: "modern"
  key_links:
    - from: "apps/web/src/app/globals.css"
      to: "apps/web/src/styles/tokens/colors-modern.css"
      via: "@import"
      pattern: "@import.*colors-modern"
---

<objective>
Create the Pokemon Clean Modern theme token system and configure Storybook for theme switching.

Purpose: Establish the theming foundation so all components automatically respond to theme changes via CSS variables.
Output: New theme file with modern tokens, globals.css import, Storybook preview with theme dropdown.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-theme-exploration/15-CONTEXT.md
@.planning/phases/15-theme-exploration/15-RESEARCH.md

# Existing theme tokens (source of truth for current theme)
@apps/web/src/styles/tokens/colors.css
@apps/web/.storybook/preview.ts
@apps/web/src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Pokemon Clean Modern theme tokens</name>
  <files>apps/web/src/styles/tokens/colors-modern.css</files>
  <action>
Create new CSS file with [data-theme="modern"] selector containing:

1. Surface colors - slightly warmer, more saturated than current:
   - --color-surface-base: #141820 (warmer dark)
   - --color-surface-elevated: #1c2230 (warmer elevated)
   - --color-surface-hover: #252d3d

2. Brand colors - higher saturation for vibrancy:
   - --color-brand-primary: #4B5CDA (brighter blue)
   - --color-brand-primary-dark: #3B4CCA
   - --color-brand-primary-light: #6B7EFA

3. Pokemon type colors - boosted saturation:
   - --color-type-fire: #FF6B35 (more vibrant)
   - --color-type-water: #4A90E2
   - --color-type-grass: #5CB85C
   - --color-type-electric: #FFD93D

4. Button 3D effect tokens (for beveled buttons):
   - --btn-shadow-offset: 4px
   - --btn-edge-visible: 1

5. Texture tokens:
   - --texture-noise-opacity: 0.04
   - --corner-accent-visible: 1

Use @layer base to ensure proper CSS cascade order.
Include all Pokemon type colors with boosted saturation.
  </action>
  <verify>File exists and contains [data-theme="modern"] selector with surface, brand, and type color overrides</verify>
  <done>colors-modern.css contains complete modern theme token set in @layer base</done>
</task>

<task type="auto">
  <name>Task 2: Import modern theme and update Storybook</name>
  <files>apps/web/src/app/globals.css, apps/web/.storybook/preview.ts</files>
  <action>
1. In globals.css, add import for colors-modern.css after colors.css:
   @import "../styles/tokens/colors-modern.css";

2. In preview.ts, update withThemeByDataAttribute decorator:
   - Change themes object from { dark: "dark" } to:
     { current: "", modern: "modern" }
   - Set defaultTheme to "current"
   - Keep attributeName as "data-theme"

3. Add background value for modern theme:
   { name: 'dark-modern', value: '#141820' }

This enables the Storybook theme dropdown to toggle between themes.
  </action>
  <verify>
1. Run `npm run storybook` in apps/web
2. Open Storybook, find theme dropdown in toolbar
3. Switch between "current" and "modern" themes
4. Observe color changes in component backgrounds
  </verify>
  <done>Storybook shows theme dropdown with "current" and "modern" options, switching themes changes component colors</done>
</task>

</tasks>

<verification>
1. colors-modern.css exists with [data-theme="modern"] selector
2. globals.css imports colors-modern.css
3. Storybook preview.ts has both themes configured
4. Visual test: Storybook theme dropdown toggles colors
</verification>

<success_criteria>
- Theme tokens defined and importable
- Storybook theme switching functional
- No CSS specificity conflicts (modern overrides base)
- Foundation ready for component showcase and comparison tool
</success_criteria>

<output>
After completion, create `.planning/phases/15-theme-exploration/15-01-SUMMARY.md`
</output>
