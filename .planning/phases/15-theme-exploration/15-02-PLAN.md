---
phase: 15-theme-exploration
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/styles/button-3d.css
  - apps/web/src/components/ui/Button.tsx
  - apps/web/src/components/ui/Button.stories.tsx
autonomous: true

must_haves:
  truths:
    - "Beveled button has visible 3D depth effect (raised appearance)"
    - "Button presses down on click with smooth animation"
    - "Animation uses transform (not box-shadow) for performance"
  artifacts:
    - path: "apps/web/src/styles/button-3d.css"
      provides: "3D button CSS using Josh Comeau layered approach"
      contains: "btn-3d"
    - path: "apps/web/src/components/ui/Button.tsx"
      provides: "Beveled variant in Button component"
      contains: "beveled"
    - path: "apps/web/src/components/ui/Button.stories.tsx"
      provides: "Storybook story for beveled button"
      contains: "Beveled"
  key_links:
    - from: "apps/web/src/components/ui/Button.tsx"
      to: "apps/web/src/styles/button-3d.css"
      via: "className reference"
      pattern: "btn-3d"
---

<objective>
Create beveled/3D button variant using Josh Comeau's layered approach for the modern theme.

Purpose: Beveled buttons are a key visual element of the "Pokemon Clean Modern" aesthetic - classic game button feel with raised shadows.
Output: New button-3d.css, beveled variant in Button.tsx, Storybook story demonstrating the effect.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-theme-exploration/15-CONTEXT.md
@.planning/phases/15-theme-exploration/15-RESEARCH.md

# Button component and stories
@apps/web/src/components/ui/Button.tsx
@apps/web/src/components/ui/Button.stories.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create 3D button CSS</name>
  <files>apps/web/src/styles/button-3d.css</files>
  <action>
Create CSS file implementing Josh Comeau's layered 3D button approach:

1. Wrapper (.btn-3d):
   - position: relative, border: none, background: transparent
   - padding: 0, cursor: pointer
   - transition: filter 250ms

2. Shadow layer (.btn-3d-shadow):
   - position: absolute, inset: 0
   - border-radius: 12px
   - background: hsl(0deg 0% 0% / 0.25)
   - transform: translateY(2px)
   - transition: transform 600ms cubic-bezier(0.3, 0.7, 0.4, 1)

3. Edge layer (.btn-3d-edge):
   - position: absolute, inset: 0
   - border-radius: 12px
   - background: linear-gradient(to left, darker hue 0%, normal hue 8%, normal hue 92%, darker hue 100%)

4. Front layer (.btn-3d-front):
   - display: block, position: relative
   - padding: 12px 42px, border-radius: 12px
   - color: white, background: main color
   - transform: translateY(-4px)
   - transition: transform 600ms cubic-bezier(0.3, 0.7, 0.4, 1)

5. Hover state:
   - .btn-3d:hover .btn-3d-front: translateY(-6px)
   - .btn-3d:hover .btn-3d-shadow: translateY(4px)
   - transition: 250ms cubic-bezier(0.3, 0.7, 0.4, 1.5)

6. Active state (pressed):
   - .btn-3d:active .btn-3d-front: translateY(-2px)
   - .btn-3d:active .btn-3d-shadow: translateY(1px)
   - transition: 34ms (snappy press response)

Use CSS custom properties for hue values (--btn-hue) to allow color variants.
  </action>
  <verify>File exists with all five layers and hover/active states</verify>
  <done>button-3d.css contains complete 3D button CSS with shadow, edge, front layers and state transitions</done>
</task>

<task type="auto">
  <name>Task 2: Add beveled variant to Button component</name>
  <files>apps/web/src/components/ui/Button.tsx, apps/web/src/app/globals.css</files>
  <action>
1. Import button-3d.css in globals.css:
   @import "../styles/button-3d.css";

2. Create BeveledButton component in Button.tsx (NOT a CVA variant - different structure):

```tsx
interface BeveledButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  hue?: number  // HSL hue value, default 240 (blue)
  children: React.ReactNode
}

export function BeveledButton({
  hue = 240,
  children,
  className,
  style,
  ...props
}: BeveledButtonProps) {
  return (
    <button
      className={cn("btn-3d min-h-[44px]", className)}
      style={{ '--btn-hue': hue, ...style } as React.CSSProperties}
      {...props}
    >
      <span className="btn-3d-shadow" />
      <span className="btn-3d-edge" />
      <span className="btn-3d-front">
        {children}
      </span>
    </button>
  )
}
```

Export BeveledButton alongside existing Button.

This is a separate component (not CVA variant) because the HTML structure is different (three nested spans).
  </action>
  <verify>TypeScript compiles, BeveledButton is exported from Button.tsx</verify>
  <done>BeveledButton component exists and is exported, uses btn-3d CSS classes</done>
</task>

<task type="auto">
  <name>Task 3: Add Storybook story for BeveledButton</name>
  <files>apps/web/src/components/ui/Button.stories.tsx</files>
  <action>
Add stories for BeveledButton in existing Button.stories.tsx:

1. Import BeveledButton

2. Add story "Beveled":
   - Shows default beveled button
   - Demonstrates 3D depth and press animation

3. Add story "BeveledColors":
   - Shows multiple hue variants:
     - Blue (hue=240) - primary actions
     - Red (hue=0) - danger/pokeball
     - Green (hue=120) - success/grass
     - Yellow (hue=45) - electric/warning
   - Arranged in a row

4. Add story "BeveledInteractive":
   - Includes interaction instructions
   - "Click me to see the press effect!"

Use render function pattern for multi-button stories.
  </action>
  <verify>Run `npm run storybook`, navigate to Button stories, see Beveled variants with 3D effect</verify>
  <done>Storybook shows BeveledButton stories with visible 3D depth and smooth press animation</done>
</task>

</tasks>

<verification>
1. button-3d.css exists with layered structure
2. BeveledButton component renders 3D button
3. Press animation is smooth (transform-based)
4. Storybook displays beveled button stories
</verification>

<success_criteria>
- Beveled buttons show visible 3D depth (raised shadow)
- Click animation is smooth and snappy (~34ms on press)
- Hover animation is bouncy (~250ms with overshoot)
- Color variants work via --btn-hue custom property
- TypeScript types correct
</success_criteria>

<output>
After completion, create `.planning/phases/15-theme-exploration/15-02-SUMMARY.md`
</output>
