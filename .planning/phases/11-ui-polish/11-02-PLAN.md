---
phase: 11-ui-polish
plan: 02
type: execute
wave: 2
depends_on: ["11-01"]
files_modified:
  - apps/web/src/components/game/GameShell.tsx
  - apps/web/src/components/game/ZoneDisplay.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Navigation buttons are sorted by compass direction (N first, then E, S, W, diagonals)"
    - "Direction arrows display before zone names (e.g., up arrow Route 1)"
    - "All instances of Power-Ups read Boosts"
  artifacts:
    - path: "apps/web/src/components/game/GameShell.tsx"
      provides: "Direction sorting, arrow display, Boosts rename"
      contains: "DIRECTION_ORDER"
    - path: "apps/web/src/components/game/ZoneDisplay.tsx"
      provides: "Direction sorting and arrow display for travel buttons"
      contains: "DIRECTION_ARROWS"
  key_links:
    - from: "GameShell.tsx MapSidebar"
      to: "connectedZones.direction"
      via: "sort function using DIRECTION_ORDER"
      pattern: "sort.*direction"
---

<objective>
Implement navigation direction ordering and rename Power-Ups to Boosts.

Purpose: Make navigation intuitive by ordering travel buttons geographically. Clean up naming to use consistent "Boosts" terminology.

Output: Navigation buttons sorted N/E/S/W with arrow indicators, "Power-Ups" renamed to "Boosts" throughout UI.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/11-ui-polish/11-CONTEXT.md
@.planning/phases/11-ui-polish/11-RESEARCH.md
@apps/web/src/components/game/GameShell.tsx
@apps/web/src/components/game/ZoneDisplay.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add direction sorting and arrows to MapSidebar</name>
  <files>apps/web/src/components/game/GameShell.tsx</files>
  <action>
1. Add direction constants near the top of the file (after KANTO_ZONES):
```typescript
// Direction priority for sorting (lower = higher priority)
const DIRECTION_ORDER: Record<string, number> = {
  'N': 0, 'E': 1, 'S': 2, 'W': 3,
  'NE': 4, 'SE': 5, 'SW': 6, 'NW': 7
}

// Arrow symbols for each direction
const DIRECTION_ARROWS: Record<string, string> = {
  'N': '\u2191', 'S': '\u2193', 'E': '\u2192', 'W': '\u2190',
  'NE': '\u2197', 'SE': '\u2198', 'SW': '\u2199', 'NW': '\u2196'
}
```

2. In MapSidebar component, add useMemo to sort connectedZones:
```typescript
const sortedConnectedZones = useMemo(() => {
  return [...connectedZones].sort((a, b) => {
    const orderA = DIRECTION_ORDER[a.direction || ''] ?? 99
    const orderB = DIRECTION_ORDER[b.direction || ''] ?? 99
    return orderA - orderB || a.id - b.id  // Stable sort by id when same direction
  })
}, [connectedZones])
```

3. Update the travel-list rendering to use sortedConnectedZones and show arrows:
```tsx
{sortedConnectedZones.map(zone => (
  <button
    key={zone.id}
    className="travel-btn"
    onClick={() => gameSocket.moveToZone(zone.id)}
  >
    {zone.direction && (
      <span className="direction-arrow text-[#a0a0c0]">
        {DIRECTION_ARROWS[zone.direction]}
      </span>
    )}
    <span className="zone-icon">{zone.zone_type === 'town' ? '\uD83C\uDFE0' : '\uD83C\uDF3F'}</span>
    <span className="zone-name">{zone.name}</span>
  </button>
))}
```

4. Rename "Power-Ups" to "Boosts":
- Line ~406: Change `<span className="buffs-title">Power-Ups</span>` to `<span className="buffs-title">Boosts</span>`
- Line ~83: Change placeholder name from 'Power-Ups' to 'Boosts'

5. Update PowerUp interface name to Boost (optional but cleaner):
- Rename `interface PowerUp` to `interface Boost`
- Rename `AVAILABLE_BUFFS: PowerUp[]` to `AVAILABLE_BOOSTS: Boost[]`
- Update references in PartyColumn
  </action>
  <verify>Run `npm run lint` in apps/web to check for errors. Verify no instances of "Power-Up" remain: `grep -i "power-up" apps/web/src/components/game/GameShell.tsx`</verify>
  <done>MapSidebar travel buttons sorted by direction with arrows, all Power-Ups renamed to Boosts</done>
</task>

<task type="auto">
  <name>Task 2: Add direction sorting and arrows to ZoneDisplay</name>
  <files>apps/web/src/components/game/ZoneDisplay.tsx</files>
  <action>
1. Add direction constants at the top of the file (same as GameShell):
```typescript
// Direction priority for sorting (lower = higher priority)
const DIRECTION_ORDER: Record<string, number> = {
  'N': 0, 'E': 1, 'S': 2, 'W': 3,
  'NE': 4, 'SE': 5, 'SW': 6, 'NW': 7
}

// Arrow symbols for each direction
const DIRECTION_ARROWS: Record<string, string> = {
  'N': '\u2191', 'S': '\u2193', 'E': '\u2192', 'W': '\u2190',
  'NE': '\u2197', 'SE': '\u2198', 'SW': '\u2199', 'NW': '\u2196'
}
```

2. Add useMemo import if not present, then add sorted zones:
```typescript
const sortedConnectedZones = useMemo(() => {
  return [...connectedZones].sort((a, b) => {
    const orderA = DIRECTION_ORDER[a.direction || ''] ?? 99
    const orderB = DIRECTION_ORDER[b.direction || ''] ?? 99
    return orderA - orderB || a.id - b.id
  })
}, [connectedZones])
```

3. Update the travel buttons section (~line 199-219) to use sortedConnectedZones and show arrows:
```tsx
{sortedConnectedZones.map((zone) => (
  <button
    key={zone.id}
    onClick={() => gameSocket.moveToZone(zone.id)}
    className={`
      group relative px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200
      ${zone.zone_type === 'town'
        ? 'bg-gradient-to-b from-amber-500/10 to-amber-600/5 border border-amber-500/30 text-amber-400 hover:from-amber-500/20 hover:to-amber-600/10 hover:border-amber-500/50'
        : 'bg-gradient-to-b from-green-500/10 to-green-600/5 border border-green-500/30 text-green-400 hover:from-green-500/20 hover:to-green-600/10 hover:border-green-500/50'
      }
      hover:scale-105 active:scale-95
    `}
  >
    <span className="relative z-10 flex items-center gap-2">
      {zone.direction && (
        <span className="text-[#a0a0c0]">{DIRECTION_ARROWS[zone.direction]}</span>
      )}
      <span>{zone.zone_type === 'town' ? '\uD83C\uDFE0' : '\uD83C\uDF3F'}</span>
      <span>{zone.name}</span>
    </span>
  </button>
))}
```
  </action>
  <verify>Run `npm run lint` in apps/web to check for errors</verify>
  <done>ZoneDisplay travel buttons sorted by direction with arrows displayed</done>
</task>

</tasks>

<verification>
- [ ] DIRECTION_ORDER and DIRECTION_ARROWS constants exist in both files
- [ ] MapSidebar sorts connectedZones by direction
- [ ] ZoneDisplay sorts connectedZones by direction
- [ ] Arrow symbols display before zone names when direction is available
- [ ] No instances of "Power-Up" remain in GameShell.tsx
- [ ] `npm run lint` passes in apps/web
</verification>

<success_criteria>
- Navigation buttons sorted: N zones first, then E, S, W, then diagonals
- Arrow symbols (up/down/left/right) display before zone names
- "Power-Ups" section renamed to "Boosts" in party column
- No lint errors
</success_criteria>

<output>
After completion, create `.planning/phases/11-ui-polish/11-02-SUMMARY.md`
</output>
